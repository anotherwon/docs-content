---
meta:
  title: How to deploy a container from an external container registry
  description: This page explains how to deploy a container from an external registry
content:
  h1: How to deploy a container from an external container registry
  paragraph: This page explains how to deploy a container from an external registry
tags: deploy container
dates:
  validation: 2023-07-31
  posted: 2021-05-26
categories:
  - serverless
  - containers
---

This page shows you how to deploy your first Serverless Container from an external registry.
A container is a package of software that includes all dependencies: code, runtime, configuration, and system libraries so that it can run on any host system. This allows you to control your production environment. Scaleway provides custom Docker images that are entirely handled for you in the cloud. With Serverless Containers, you can rely on your favorite technologies such as Django or Ruby on Rails.
For now, Serverless Containers only supports public images.

<Macro id="iam-requirements" />

<Message type="requirement">
  - You have an account and are logged into the [Scaleway console](https://console.scaleway.com)
  - You have [created a containers namespace](/serverless/containers/how-to/create-a-containers-namespace/)
  - Your container image is available without authentication
</Message>

<Tabs id="tabs-1">
  <TabsTab label="Console">
    1. Click **Containers** in the **Serverless** section of the side menu. The containers page displays.
    2. Click the relevant container's namespace.
    3. Click **Deploy container**. The container creation wizard displays.
    4. Complete the following steps in the wizard:
        - Select your container registry:
            - With the **Scaleway** Container Registry, select the namespace from the drop-down list, and then select the container and tag.
            - With an **external** Container Registry, enter the public container **image URL** provided by the external registry (For example, `nginx:latest` to deploy the latest nginx image from [Docker Hub](https://hub.docker.com/search?q=)).
        - Choose the **Port** your container is listening on. We recommend configuring your container to listen on the **PORT** environment variable.
        - Choose a **name** for your container and, optionally, a **description**. The name must only contain alphanumeric characters and dashes.
        - Choose the **resources** to be allocated to your container at runtime. These define the performance characteristics of your container.
        - Set your **scaling** preferences, or leave them at default values. The Scaleway platform autoscales the number of available instances of your container to match the incoming load, depending on the settings you define here.
        - Click **Advanced options** to define any **environment variables** you want to inject into your container. For each environment variable, click **+Add variable** and enter the key/value pair.
        - Add **secrets** for your container. Secrets are environment variables which are injected into your container, but the values are not retained or displayed by Scaleway after initial validation.
        - Set the desired **privacy policy** for your container. This defines whether container invocation may be done anonymously (**public**) or only via an authentication mechanism provided by the [Scaleway API](https://www.scaleway.com/en/developers/api/serverless-containers/#authentication) (**private**).
        - Set a custom timeout for your container.
        - Verify the **estimated cost**.

    5. Click **Deploy container** to finish.
  </TabsTab>
  <TabsTab label="API">
    1. Run the following command in your terminal to create a containers namespace:

        ```json
        curl -X POST \
        -H "X-Auth-Token: $SCW_SECRET_KEY" \
        -H "Content-Type: application/json" \
        -d '{
            "name": "<YOUR_NAMESPACE_NAME>",
            "project_id": "YOUR_PROJECT_ID"
        }' \
        "https://api.scaleway.com/containers/v1beta1/regions/fr-par/namespaces"
        ```

        An output similar to the following displays:

        ```json
        {"id":"example-fb93-43e3-a036-7be69f1af7a1", "name":"your-namespace-name", "environment_variables":{}, "organization_id":"example-776f-4f65-a41e-6c5fc58b4076", "project_id":"example-c162-43f7-bb3e-1182e6f12342", "status":"pending", "registry_namespace_id":"", "error_message":null, "registry_endpoint":"", "description":"", "secret_environment_variables":[], "region":"fr-par"}%  
        ```
    2. Run the following command to create a container:
        ```json
        curl -X POST \
        -H "X-Auth-Token: $SCW_SECRET_KEY" \
        -H "Content-Type: application/json" \
        -d '{
          "name": "<YOUR_CONTAINER_NAME>",
          "namespace_id": "<YOUR_NAMESPACE_ID>",
          "runtime": "<RUNTIME>"
        }' \
        "https://api.scaleway.com/containers/v1beta1/regions/fr-par/containers"
        ```

        An output similar to the following displays:

        ```json
        {"id":"ef777a64-1f4e-4d43-8227-26927c7de057", "name":"your-container-name", "namespace_id":"example-fb93-43e3-a036-7be69f1af7a1", "status":"created", "environment_variables":{}, "min_scale":0, "max_scale":5, "runtime":"python310", "memory_limit":256, "cpu_limit":140, "timeout":"300s", "handler":"handler.handle", "error_message":null, "privacy":"public", "description":"", "domain_name":"namespaceg04rnwx-container-example.containers.cnt.fr-par.scw.cloud", "secret_environment_variables":[], "http_option":"enabled", "runtime_message":"", "build_message":null, "region":"fr-par"}% 
        ```

        <Message type="note">
          For testing purposes, you can use the `"registry_image": "nginx:latest"` and `"port": "80"` parameters to quickly create a container.
        </Message>

    3. Run the following command to deploy your container:

        ```json
        curl -X POST \
          -H "X-Auth-Token: $SCW_SECRET_KEY" \
          -H "Content-Type: application/json" \
          -d '{}' \
          "https://api.scaleway.com/containers/v1beta1/regions/fr-par/containers/<YOUR_CONTAINER_ID>/deploy"
        ```
        The deployment process can take several minutes, depending on the image used.
    4. Run the following command to call your container once it is deployed:

        ```bash
        curl <YOUR_CONTAINER_ENDPOINT>
        ```

        Your container is now deployed and ready to use.
  </TabsTab>
  <TabsTab label="CLI">
    1. Run the following command in your terminal to create a containers namespace:
        ```bash
        scw container namespace create name=<YOUR_NAMESPACE_NAME>
        ```

        An output similar to the following displays:
        
        ```
        ID                   6e74dbb7-9323-46bb-abc7-5c0105f4e70e
        Name                 <YOUR_NAMESPACE_NAME>
        OrganizationID       55e28409-776f-4f65-a41e-6c5fc58b4076
        ProjectID            55e28409-776f-4f65-a41e-6c5fc58b4076
        Status               pending
        RegistryNamespaceID  -
        RegistryEndpoint     -
        Description          -
        Region               fr-par
        ```

    2. Run the following command in your terminal to create a container:

        ```bash
        scw container container create name=<CONTAINER_NAME> namespace-id=<NAMESPACE_ID> registry-image=<IMAGE_REGISTRY_URL>
        ```

        An output similar to the following displays:

        ```
        ID              717fb5f9-95c3-4c0b-84db-2321283e46dc
        Name            <CONTAINER_NAME>
        NamespaceID     cee31af8-d43e-4078-8f55-c921a9311f47
        Status          created
        MinScale        0
        MaxScale        5
        Runtime         python310
        MemoryLimit     256
        CPULimit        140
        Timeout         5 minutes
        Handler         handler.handle
        Privacy         public
        Description     -
        DomainName      namespace0leshy-cli-fn-containername.containers.fnc.fr-par.scw.cloud
        Region          fr-par
        HTTPOption      enabled
        RuntimeMessage  -
        ```

        <Message type="note">
          For testing purposes, you can use the `registry-image=nginx:latest` and `port=80` parameters to quickly create a container.
        </Message>

    3. Run the following command to deploy your container with the zip archive you just created:

        ```bash
        scw container container deploy <CONTAINER_ID>
        ```

        The deployment process can take several minutes, depending on the image used.

    4. Run the following command to call your container:

        ```bash
        curl <YOUR_CONTAINER_ENDPOINT>
        ```

        Your container is now deployed and ready to be used.
  </TabsTab>
</Tabs>

<Navigation>
  <PreviousButton to="/serverless/containers/how-to/deploy-a-container-from-scaleway-container-registry/">How to deploy a container from Scaleway Container Registry</PreviousButton>
  <NextButton to="/serverless/containers/how-to/manage-a-container/">How to manage a container</NextButton>
</Navigation>
