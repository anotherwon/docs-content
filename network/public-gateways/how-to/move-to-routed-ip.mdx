---
meta:
  title: How to move your Public Gateway to a routed IP
  description: This page explains how to move your Public Gateway's public (flexible) IP address from a legacy NAT IP, to a routed IP, compatible with Scaleway's IP mobility project and features.
  h1: How to move your Public Gateway to a routed IP
  paragraph: This page explains how to move your Public Gateway's public (flexible) IP address from a legacy NAT IP, to a routed IP, compatible with Scaleway's IP mobility project and features.
tags: public-gateway public gateway nat-ip routed-ip ip-mobility
dates:
  validation: 2024-02-21
  posted: 2024-02-21
categories:
  - network
---

All Public Gateways necessarily have a [public flexible IP address ](/network/public-gateways/concepts/#flexible-ip) attached to them. Behind the scenes, these IP addresses have so far been implemented via a highly available NAT (Network Address Translation) solution. Moving forward, we are moving to a routed IP address solution for all of our public flexible IPs.

You can move your Public Gateway's IP address from NAT to routed by following the simple steps outlined on this page. **Your IP address itself will not change**. This is purely a backend modification to the method Scaleway uses to map IP addresses to the physical hypervisors hosting your resources.

In this first phase, you may choose when to move your Public Gateway's IP from NAT to routed by following the steps below at a time best suited to you. In a future phase, moving to routed IP will be done automatically for all Public Gateways who still have NAT IPs. The timing of this will be announced in future communications.

Note the following when moving a Public Gateway from NAT IP to routed IP:
- You should notice only a few seconds of service interruption
- Once done, this action cannot be undone
- Via the Scaleway console, each Public Gateway must be moved individually to routed IP
- Via the [API](https://www.scaleway.com/en/developers/api/vpc/), you can move multiple Public Gateways to routed IP at a time.

Moving your Public Gateway to routed IPs will ensure that when features such as IPv6 are released in the future, your gateway will be compatible. The move from NAT to routed IPs is part of Scaleway's overarching IP mobility project. Read our blog post for [full information](https://www.scaleway.com/en/blog/ip-mobility-removing-nat/)

TODO, include this info?
In a few cases the migration can failed (issue in Instance side, or else..), in this case the PGW will be in a transient/configuring state until we unlock the user in our side. They will need to open a ticket so we can investigate and unlock the situation. If it's a temporary issue, system will retry the configuration and be automatically corrected.

<Macro id="iam-requirements" />

<Message type="important">
  This how-to concerns the creation of Public Gateway flexible IPs. For the creation of [Instance flexible IPs](/compute/instances/how-to/use-flexips/) or [Elastic Metal flexible IPs](/bare-metal/elastic-metal/how-to/configure-flexible-ip/), refer to the relevant documentation. Note that each set of flexible IPs is independent, and can only be used with that product. Instance flexible IPs cannot be attached to Public Gateways and vice versa.
</Message>

<Message type="requirement">
  - You have an account and are logged into the [Scaleway console](https://console.scaleway.com)
</Message>

<Macro id="flexible-ip" />

## How to create a new flexible IP address

1. Click **Public Gateways** in the **Network** section of the side menu.
2. Navigate to the **Flexible IPs** tab.
3. Click **Create flexible IP** (or the <Icon name="plus" /> button if you have existing flexible IPs). The flexible IP creation wizard displays.
4. Complete the following information in the wizard:
    - Choose a **Region**, which is the geographical location where your flexible IP will be created.
    - Check the **Estimated cost** for the flexible IP.
5. Click **Create flexible IP** to finish.

    The updated list of your flexible IPs displays with the new flexible IP address you have just created.

## How to attach an existing flexible IP address to a Public Gateway

1. Click **Public Gateways** in the **Network** section of the side menu.
2. Navigate to the **Flexible IPs** tab.
3. Click <Icon name="more"/> next to the flexible IP that you want to attach to a Public Gateway. In the drop-down menu which opens, click **Attach**. Alternatively, click **Attach to Public Gateway** next to the flexible IP.
    <Lightbox src="scaleway-attach-flexip-gw.webp" alt="" />
4. Select the Public Gateway that you want to attach to this flexible IP in the pop-up window, and click **Attach flexible IP**. 
    <Lightbox src="scaleway-attach-flexip-gw2.webp" alt="" />

<Message type="note">
  Only Public Gateways that are in the same region as your flexible IP will be selectable.
</Message>

## How to detach an existing flexible IP address to a Public Gateway

1. Click **Public Gateways** in the **Network** section of the side menu.
2. Navigate to the **Flexible IPs** tab.
3. Click <Icon name="more"/> next to the flexible IP that you want to detach from a Public Gateway. In the drop-down menu which opens, click **Detach**
4. Confirm the action by clicking **Detach flexible IP** in the pop-up window. 

## How to delete a flexible IP address

When you no longer want one of your existing flexible IP addresses, you can delete it from your account, which releases it to be used by other users.

<Message type="important">
  The flexible IP must be detached from any Public Gateways in order to be deleted.
</Message>

1. Click **Public Gateways** in the **Network** section of the side menu.
2. Navigate to the **Flexible IPs** tab.
3. Click <Icon name="more"/> next to the flexible IP that you want to detach from a Public Gateway. In the drop-down menu which opens, click **Delete**
4. Confirm that you want to delete the flexible IP in the pop-up window which opens, by clicking **Delete flexible IP**.

    The flexible IP is deleted.


<Navigation title="See also">
  <PreviousButton to="/network/public-gateways/how-to/use-ssh-bastion/">How to use SSH bastion</PreviousButton>
  <NextButton to="/network/public-gateways/how-to/delete-a-public-gateway/">How to delete a Public Gateway</NextButton>
</Navigation>
