---
meta:
  title: Migrating Block Storage data to Block Storage Low Latency
  description: This page shows you how to migrate Block Storage data to Block Storage Low Latency
content:
  h1: Migrating Block Storage data to Block Storage Low Latency
  paragraph: This page shows you how to migrate Block Storage data to Block Storage Low Latency
categories:
  - instances
  - block-storage
tags: block-storage data migration block-storage-low-latency
dates:
  validation: 2024-02-06
  posted: 2024-02-06
---


This tutorial shows you how to migrate your Instance's data from a Block Storage volume (b_ssd) to a Block Storage Low Latency according to your needs and level of expertise. You will find out how to:

- migrate your data without Logical Volume Management or Partition Table
- migrate your data using **Logical Volume Management (LVM)**
- migrate your data with Partition Table but without Logical Volume Management

Note that your Operating System and the volume on which you have stored it, **cannot be migrated to a Block Storage Low Latency volume**.

<Macro id="iam-requirements" />

<Message type="requirement">
  - You have an account and are logged into the [Scaleway console](https://console.scaleway.com)
  - You have [created an SSH key](/console/project/how-to/create-ssh-key/)
  - You have [created an Instance](/compute/instances/how-to/create-an-instance/) and [attached a Block SSD volume](/storage/block/how-to/attach-a-volume/) to it, containing data to migrate
  - Your Instance's OS is **not hosted on the Block SSD volume that contains the data you want to migrate**
</Message>

<Message type="tip">
  We recommend that you make a backup of your data using the [snapshot](/storage/block/how-to/create-a-snapshot/) feature before migrating your data. This helps you avoid any potential data loss.
</Message>

## Migrating data without Partition Table nor LVM

<Message type="important">
  To follow this procedure, you must have [mounted](/storage/block/api-cli/managing-a-volume/) your source volume to your Instance beforehand.
</Message>

1. Create a [Block Storage Low Latency volume](/storage/block/how-to/create-a-volume/) and [attach it](/storage/block/how-to/attach-a-volume/) to your Instance.
2. Open a terminal and connect to your Instance using SSH:
  ```
  ssh root@<Your Instance's IP>
  ```
3. Use the following command to make a copy of your Instance's `fstab` file:
  ```
  # This command creates an exact copy of the /etc/fstab file named fstab.backup

  cp /etc/fstab /etc/fstab.backup
  ```
4. Stop any applications and/or services that may be accessing the data on the source volume.
5. [Unmount your source volume](/storage/block/api-cli/unmounting-a-volume/) from your Instance.
6. Use the following command to copy your source volume (`/dev/sdb`) to your target volume (`/dev/sdc`) block by block.
  ```
  # Replace /dev/sdb with your source volume and /dev/sdc with your target volume
  # This command means that you are copying data from /dev/sdb to /dev/sdc, using a block size of 4 KB, and displaying progress information while copying.

  dd if=/dev/sdb of=/dev/sdc bs=4096 status=progress
  ```
   <Message type="important">
     We recommend that you always make a backup of your data, as `dd` can overwrite data irreversibly, if not used correctly.
   </Message>

7. Run the following command to access your Instance's `fstab` file:
  ```
  nano /etc/fstab
  ```
8. In the `fstab` file, replace your source volume (`/dev/sdb`) with your target volume (`/dev/sdc`).
9. Press `Ctrl O` and `Enter` to save your changes, then press `Ctrl X` to exit the file.
10. Mount your volume:
  ```
  # This command mounts all filesystems listed in /etc/fstab that are not already mounted
  mount -a
  ```
11. Restart your applications/services, and check that they are running.
12. Reboot your Instance and check that your applications are running correctly.
13. Optionally, wait a few days and [delete the SSD volume](/storage/block/how-to/delete-a-volume/) using the Scaleway console.


## Migrating data with Logical Volume Management (LVM)

1. Create a [Block Storage Low Latency volume](/storage/block/how-to/create-a-volume/) and [attach it](/storage/block/how-to/attach-a-volume/) to your Instance.
2. Open a terminal and connect to your Instance using SSH:
  ```
  ssh root@<Your Instance's IP>
  ```
3. Use the following command to identify the Block SSD volume (source volume) and the Low Latency volume (target volume). For the sake of this tutorial, we are using `/dev/sdb` to refer to the SSD Block volume, and `dev/sdc` to refer to the Low Latency volume.
  ```
  cat /proc/mounts
  ```
4. Run the following command to create physical volumes with LVM. Make sure that you replace `/dev/sdb` with your source volume and `/dev/sdc` with your target volume.
  ```
  # Create physical volumes with /dev/sdb being the source volume and /dev/sdc being the target volume
  pvcreate /dev/sdb /dev/sdc

5. Run the following command to create a volume group for both volumes:
  ```
  # Create a volume group (VG) for both volumes
  vgcreate my_volume_group /dev/sdb /dev/sdc
  ```
6. Optionally, if you have already created a volume group with your source volume in it, run the following command to add your target volume to the same volume group:
  ```
  # Add your target volume in the same volume group as the source volume
  vgextend my_volume_group /dev/sdc

7. Use the following command to move your data from your source volume to your target volume:
  ```
  # Move your data from /dev/sdb to /dev/sdc
  pvmove -b /dev/sdb/dev/sdc
  ```
8. Use the following command to monitor the data migration process:
  ```
  watch lvs -a -o+devices
  ```
9. Once the migration is complete, run the following command to remove your source volume from your volume group. This means your volume group will no longer consider your source volume as part of its storage pool.
  ```
  vgreduce my_volume_group /dev/sdb
  ```
10. Use the following command to remove the physical volume from your source volume:
  ```
  # Remove all LVM-related metadata from your source volume
  pvremove /dev/sdb
  ```
11. Restart your applications/services, and check that they are running.
12. Reboot your Instance and check that your applications are running correctly.
13. Optionally, wait a few days and [delete the SSD volume](/storage/block/how-to/delete-a-volume/) using the Scaleway console.

## Migrating data without LVM but with Partition Table

<Message type="important">
  To follow this procedure you must have:
  - [created a Block Storage Low Latency volume](/storage/block/how-to/create-a-volume/)
  - [attached your volumes to your Instance](/storage/block/how-to/attach-a-volume/)
  - created partitions on your source and target volumes
  - [formatted your partitions](/storage/block/api-cli/managing-a-volume/#formatting-the-block-volume) using the ext4 filesystem
  - [mounted your Block SSD volume](/storage/block/api-cli/managing-a-volume/#mounting-the-block-volume) on your Instance
</Message>

1. Open a terminal and connect to your Instance using SSH:
  ```
  ssh root@<Your Instance's IP>
  ```
2. Use the following command to make a copy of your Instance's `fstab` file:
  ```
  # This command creates an exact copy of the /etc/fstab file named fstab.backup

  cp /etc/fstab /etc/fstab.backup
  ```
3. Stop any applications and/or services that may be accessing the data on the source volume.
4. Unmount your Block SSD volume:
  ```
  umount /dev/sdb
  ```
5. Use the following command to copy the content of your source volume's partitions to your target volume's partitions:
  ```
  # Replace /dev/sdb1 with your source volume's partition and /dev/sdc1 with your target volume's partition.
  # This command means that you are copying data from /dev/sdb1 to /dev/sdc1, using a block size of 4 KB, and displaying progress information while copying.

  dd if=/dev/sdb1 of=/dev/sdc1 bs=4096 status=progress
  # Repeat the command for other partitions if applicable/needed
  ```
    <Message type="important">
     We recommend that you always make a backup of your data, as `dd` can overwrite data irreversibly, if not used correctly.
    </Message>
6. Run the following command to access your Instance's `fstab` file:
  ```
  nano /etc/fstab
  ```
7. In the `fstab` file, replace your source partition (`/dev/sdb1`) with your target partition (`/dev/sdc1`). Repeat the procedure for other partitions if applicable/needed.
8. Press `Ctrl O` and `Enter` to save your changes, then press `Ctrl X` to exit the file.
9. Make sure that the data was correctly copied on the target partitions.
10. Mount your target volume on your Instance:
  ```
  # This command mounts all filesystems listed in /etc/fstab that are not already mounted

  mount -a
  ```
11. Restart your applications/services, and check that they are running.
12. Reboot your Instance and check that your applications are running correctly.
13. Optionally, wait a few days and [delete the SSD volume](/storage/block/how-to/delete-a-volume/) using the Scaleway console.

